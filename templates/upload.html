<!DOCTYPE html>
<meta charset="UTF-8">

<html class="u_bg">
<head>
    <title>웹보 쏘 하드</title>
    
    <script src="http://code.jquery.com/jquery-latest.js"></script> 
    <script type="text/javascript">
        // 파일 리스트
        // updateList = function() { 
        //     var input = document.getElementById('file');
        //     var output = document.getElementById('fileList');
        //     var children = "";
        //     for (var i = 0; i < input.files.length; ++i) {
        //         children += '<li>' + input.files.item(i).name + '</li>';
        //     }
        //     output.innerHTML = '<ul>'+children+'</ul>';
        // } 

        // 파일 이름 목록 표시
        var sel_files = [];

        function handleFilesSelect(e) {
            console.log("된다람쥐");

            // var f = document.getElementById("uploadInput").files[0]; // ㅇ
            // var fileName = f.name;
            // document.getElementById("fileName").innerHTML = fileName;

            var files = e.value; //e.target.files
            console.log(files); // 이건 되는데 웨 밑은 안되냐고
            //var filesArr = Array.prototype.slice.call(files);
            var fileName_html = "<div>" + files + "</div>";
            $(".files_wrap").append(fileName_html);

            // filesArr.forEach(function(f) {
            //     sel_files.push(f);

            //     var reader = new FileReader();
            //     reader.onload = function(e) {
            //         var fileName_html = "<div>" + e.target.result + "</div>";
            //         $(".files_wrap").append(fileName_html);
            //     }
            //     //reader.readAsDataURL(f);
            // });
        }

    </script>
</head>

<style>
    @font-face {
      font-family: "TmoneyRoundWindExtraBold";
      src: url("https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_20-07@1.0/TmoneyRoundWindExtraBold.woff")
        format("woff");
      font-weight: normal;
      font-style: normal;
    }
    .u_bg {
        background-color: rgb(19, 10, 37);
        text-align: center;
    }
    .u_title {
        color:rgb(15, 196, 196);
        margin-top: 100px;
        padding-bottom: 100px;
        font-size: 40px;
        font-weight: 800;
        font-family: "TmoneyRoundWindExtraBold";
    }
    a:hover {
        color : rgb(188, 242, 245);
    }
    .u_list {
        text-align: center;
        color: rgb(15, 196, 196);
        text-decoration: none;
        font-size: 20px;
        font-family: "TmoneyRoundWindExtraBold";
    }
    .u_submit {
        width: 60px;
        height: 30px;
        text-align: center;
        justify-content: center;
    }
    .files_wrap {
        color: white;
    }
</style>

<body>
<div class="u_title">Upload Page</div>

<div class="u_list">
    <a href="./home.html" class="u_list">홈으로 돌아가기</a>
    <br/><br/>
    <div>Upload File!</div>
    <br><br>


    <hr width="100%" color="white"/>
        <form 
            action = "http://localhost:8000/result" 
            method = "POST"
            enctype = "multipart/form-data"
        >

            <input 
                id="input_files"
                type = "file" 
                name = "file[]" 
                accept=".pdf" 
                multiple="multiple"
                onchange="handleFilesSelect(this);"
                required 
            />
            
            <input type = "submit" />

        </form>
    <hr width="100%" color="white"/>

    <div class="files_wrap">

    </div>

</div>

</body>
</html>
